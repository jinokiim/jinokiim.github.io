---
layout: post
title: 대중교통 데이터 시각화
subtitle: practice
gh-repo: jinokiim/jinokiim.github.io
gh-badge: [star, fork, follow]
thumbnail-img: /assets/img/practice/practicethumb.png
cover-img: /assets/img/practice/practicethumb.png
tags: [Python, practice]
comments: true
---

# 대중교통 데이터 시각화하기


```python
import csv
f = open('subwayfee.csv')
data = csv.reader(f)

for row in data:
    print(row)
```

    ['\ufeff사용월', '호선명', '역ID', '지하철역', '유임승차', '유임하차', '무임승차', '무임하차', '']
    ['2021-08', '1호선', '1', '서울역', '792988', '756399', '145014', '136947', '']
    ['2021-08', '1호선', '10', '동묘앞', '102153', '108130', '126958', '126884', '']
    ['2021-08', '1호선', '2', '시청', '393938', '389734', '55055', '53210', '']
    ['2021-08', '1호선', '3', '종각', '616525', '597169', '101246', '94171', '']
    ['2021-08', '1호선', '4', '종로3가', '354719', '325937', '239745', '226538', '']
    
    ...
    
    ['2021-08', '우이신설선', '710', '북한산보국문', '105190', '98876', '33318', '33835', '']
    ['2021-08', '우이신설선', '711', '정릉', '70828', '63487', '35608', '33405', '']
    ['2021-08', '우이신설선', '712', '성신여대입구(돈암)', '53877', '62861', '23149', '21891', '']
    ['2021-08', '우이신설선', '713', '보문', '23865', '23415', '11919', '11657', '']
    ['2021-08', '우이신설선', '714', '신설동', '29375', '29242', '20752', '18443', '']


* 인원 숫자 데이터 정수로 바꾸기


```python
import csv
f = open('subwayfee.csv')
data = csv.reader(f)
header = next(data)

for row in data:
    for i in range(4,8):
        row[i] = int(row[i])
    print(row)
```

    ['2021-08', '1호선', '1', '서울역', 792988, 756399, 145014, 136947, '']
    ['2021-08', '1호선', '10', '동묘앞', 102153, 108130, 126958, 126884, '']
    ['2021-08', '1호선', '2', '시청', 393938, 389734, 55055, 53210, '']
    ['2021-08', '1호선', '3', '종각', 616525, 597169, 101246, 94171, '']
    ['2021-08', '1호선', '4', '종로3가', 354719, 325937, 239745, 226538, '']
   
    ...
    
    ['2021-08', '우이신설선', '710', '북한산보국문', 105190, 98876, 33318, 33835, '']
    ['2021-08', '우이신설선', '711', '정릉', 70828, 63487, 35608, 33405, '']
    ['2021-08', '우이신설선', '712', '성신여대입구(돈암)', 53877, 62861, 23149, 21891, '']
    ['2021-08', '우이신설선', '713', '보문', 23865, 23415, 11919, 11657, '']
    ['2021-08', '우이신설선', '714', '신설동', 29375, 29242, 20752, 18443, '']


### 유임 승차 비율이 가장 높은 역 알아보기


```python
import csv
f = open('subwayfee.csv')
data = csv.reader(f)
header = next(data)

mx = 0
rate = 0
for row in data:
    for i in range(4,8):
        row[i] = int(row[i])
    if row[6] != 0:
        rate = row[4] / row[6]
        if rate>mx:
            mx = rate
            print(row, round(rate,2))
print(mx)
```

    ['2021-08', '1호선', '1', '서울역', 792988, 756399, 145014, 136947, ''] 5.47
    ['2021-08', '1호선', '2', '시청', 393938, 389734, 55055, 53210, ''] 7.16
    ['2021-08', '2호선', '11', '시청', 432363, 416176, 38988, 35390, ''] 11.09
    ['2021-08', '2호선', '19', '한양대', 130467, 133476, 9609, 9422, ''] 13.58
    ['2021-08', '2호선', '49', '홍대입구', 1172536, 1201862, 75396, 71591, ''] 15.55
    ['2021-08', '3호선', '73', '충무로', 32, 0, 1, 0, ''] 32.0
    ['2021-08', '6호선', '445', '연신내', 34, 0, 1, 0, ''] 34.0
    34.0


* 새로운 기준으로 최댓값 찾기


```python
import csv
f = open('subwayfee.csv')
data = csv.reader(f)
header = next(data)

mx = 0
rate = 0
for row in data:
    for i in range(4,8):
        row[i] = int(row[i])
    if row[6] != 0 and (row[4]+row[6])>10000:
        rate = row[4] / (row[4]+row[6])
        if rate>mx:
            mx = rate
            mx_station = row[3] + ' ' + row[1]
print(mx_station, round(mx*100,2))
```

    서울역 경부선 94.81


* 높은역 낮은역 알아보기


```python
import csv
f = open('subwayfee.csv')
data = csv.reader(f)
header = next(data)

mx = 0
mn = 99999999
rate = 0
rate1 = 0
rate2 = 0
for row in data:
    for i in range(4,8):
        row[i] = int(row[i])
    if row[6] != 0:
        rate1 = row[4] / row[6]
        rate2 = row[4] / row[6]
        if rate1>mx:
            mx = rate1
            print(row, round(rate1,2))
        if rate2<mn and rate!=0:
            mn = rate2
            print(row, round(rate2,2))
print(mx)
print(mn)
```

    ['2021-08', '1호선', '1', '서울역', 792988, 756399, 145014, 136947, ''] 5.47
    ['2021-08', '1호선', '2', '시청', 393938, 389734, 55055, 53210, ''] 7.16
    ['2021-08', '2호선', '11', '시청', 432363, 416176, 38988, 35390, ''] 11.09
    ['2021-08', '2호선', '19', '한양대', 130467, 133476, 9609, 9422, ''] 13.58
    ['2021-08', '2호선', '49', '홍대입구', 1172536, 1201862, 75396, 71591, ''] 15.55
    ['2021-08', '3호선', '73', '충무로', 32, 0, 1, 0, ''] 32.0
    ['2021-08', '6호선', '445', '연신내', 34, 0, 1, 0, ''] 34.0
    34.0
    99999999


### 유무임 승하차 인원이 가장 많은 역찾기


```python
import csv
f = open('subwayfee.csv')
data = csv.reader(f)
next(data)
mx = [0]*4
mx_station = ['']*4
label = ['유임승차', '유임하차', '무임승차', '무임하차']

for row in data:
    for i in range(4,8):
        row[i] = int(row[i])
        if row[i] > mx[i-4]:
            mx[i-4] = row[i]
            mx_station[i-4] = row[3]+' '+row[1]
for i in range(4):
    print(label[i]+' : '+mx_station[i], mx[i])
```

    유임승차 : 강남 2호선 1740176
    유임하차 : 강남 2호선 1700077
    무임승차 : 종로3가 1호선 239745
    무임하차 : 제기동 1호선 230294


* 모든역의 유무임 승하차 비율


```python
from matplotlib import font_manager, rc
import platform 

if platform.system() == 'Windows': 
    path = 'c:/Windows/Fonts/malgun.ttf'
    font_name = font_manager.FontProperties(fname=path).get_name()
    rc('font', family=font_name)
elif platform.system() == 'Darwin':
    rc('font', family='AppleGothic')
else: 
    print('Check your OS system')
```


```python
import csv
import matplotlib.pyplot as plt

f = open('subwayfee.csv')
data = csv.reader(f)
next(data)
label = ['유임승차', '유임하차', '무임승차', '무임하차']

for row in data :
    name = row[3]
    for i in range(4,8):
        row[i] = int(row[i])
    plt.pie(row[4:8])
    plt.title(name)
    plt.axis('equal')
    plt.savefig(row[3]+ ' ' +row[1]+ ' .png')
    plt.show()

```


    
![png](/assets/img/practice/대중교통 데이터 시각화/output_14_0.png)
    



    
![png](/assets/img/practice/대중교통 데이터 시각화/output_14_1.png)
    



    
![png](/assets/img/practice/대중교통 데이터 시각화/output_14_2.png)
    



    
![png](/assets/img/practice/대중교통 데이터 시각화/output_14_3.png)
    



    
### 이후 생략
    


## 지하철 시간대별 이용 현황 데이터 저장하기


```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
for row in data:
    print(row)
```

    ['\ufeff사용월', '호선명', '역ID', '지하철역', '04:00:00~04:59:59', '', '05:00:00~05:59:59', '', '06:00:00~06:59:59', '', '07:00:00~07:59:59', '', '08:00:00~08:59:59', '', '09:00:00~09:59:59', '', '10:00:00~10:59:59', '', '11:00:00~11:59:59', '', '12:00:00~12:59:59', '', '13:00:00~13:59:59', '', '14:00:00~14:59:59', '', '15:00:00~15:59:59', '', '16:00:00~16:59:59', '', '17:00:00~17:59:59', '', '18:00:00~18:59:59', '', '19:00:00~19:59:59', '', '20:00:00~20:59:59', '', '21:00:00~21:59:59', '', '22:00:00~22:59:59', '', '23:00:00~23:59:59', '', '00:00:00~00:59:59', '', '01:00:00~01:59:59', '', '02:00:00~02:59:59', '', '03:00:00~03:59:59', '']
    ['', '', '', '', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차', '승차', '하차']
    ['2021-08', '1호선', '1', '서울역', '483', '11', '7963', '5533', '10871', '31479', '31643', '73669', '49003', '149249', '36383', '94786', '35273', '50691', '41477', '42942', '48720', '46909', '50740', '45564', '45280', '41791', '56988', '44398', '63619', '45452', '100634', '54687', '152659', '61655', '72119', '38909', '47289', '25080', '51106', '21490', '27974', '13638', '7756', '4968', '21', '444', '1', '1', '0', '0', '0', '0']
    ['2021-08', '1호선', '10', '동묘앞', '84', '3', '2861', '918', '3286', '4614', '5128', '8004', '8066', '18779', '7541', '15213', '9130', '17602', '13369', '21823', '18112', '23065', '21526', '24178', '23292', '23028', '26282', '20769', '26379', '15856', '23275', '12159', '19551', '9210', '8704', '5827', '5031', '3835', '4235', '3839', '2678', '3706', '577', '1759', '4', '827', '0', '0', '0', '0', '0', '0']
    ['2021-08', '1호선', '2', '시청', '6', '0', '1597', '4399', '2727', '17957', '5971', '53669', '6884', '141150', '7541', '60972', '8328', '24743', '12240', '22388', '13561', '20191', '15934', '18708', '20552', '15439', '26382', '13396', '31233', '11545', '59551', '11039', '119064', '11317', '41635', '5636', '31787', '3793', '27796', '3501', '13739', '2205', '2462', '822', '3', '72', '0', '2', '0', '0', '0', '0']
    ['2021-08', '1호선', '3', '종각', '63', '0', '1995', '3773', '2818', '19672', '5069', '78825', '7714', '178759', '9593', '103040', '13541', '46680', '21172', '40741', '25849', '36122', '31651', '35718', '37840', '30122', '45887', '24143', '50443', '22553', '99804', '22931', '164560', '24229', '66132', '11811', '53338', '5331', '52175', '3551', '24776', '2276', '3340', '951', '11', '112', '0', '0', '0', '0', '0', '0']
    ['2021-08', '1호선', '4', '종로3가', '190', '22', '3058', '3544', '3061', '12338', '3988', '23040', '7050', '59866', '10981', '64722', '18020', '54340', '30224', '52616', '37148', '49851', '41607', '49204', '43964', '44340', '49172', '36973', '53316', '30066', '64274', '23793', '85046', '23400', '48731', '11226', '34790', '4850', '36333', '3834', '20598', '2789', '2893', '1345', '20', '316', '0', '0', '0', '0', '0', '0']
    ['2021-08', '1호선', '5', '종로5가', '28', '1', '1458', '3099', '2265', '13936', '4526', '34390', '6620', '85361', '11025', '53440', '18027', '43701', '26246', '42808', '31246', '40504', '34369', '36734', '39739', '35799', '44089', '30038', '48235', '24652', '63291', '20032', '82371', '15996', '38884', '9049', '23306', '4214', '19554', '3305', '9855', '2349', '1551', '1150', '4', '330', '0', '0', '0', '0', '0', '0']
    
    ...
    
    ['2021-08', '우이신설선', '709', '솔샘', '8', '1', '2215', '235', '7807', '1080', '22906', '2533', '23866', '3759', '12444', '2742', '8476', '3102', '6994', '3438', '7246', '4237', '6603', '4577', '5460', '4894', '5208', '6573', '5056', '8392', '4400', '10938', '3827', '20705', '2356', '18372', '1741', '9586', '1475', '8504', '1061', '6860', '270', '2408', '0', '0', '0', '0', '0', '0', '0', '0']
    ['2021-08', '우이신설선', '710', '북한산보국문', '6', '3', '1826', '561', '5690', '2081', '16844', '3644', '20565', '6729', '12873', '5389', '9063', '4352', '8022', '4560', '8124', '5144', '7523', '5454', '6915', '5782', '7070', '7201', '7354', '8769', '7379', '11716', '7301', '18526', '4083', '15588', '2911', '9656', '2513', '8208', '1763', '6714', '682', '2631', '1', '3', '0', '0', '0', '0', '0', '0']
    ['2021-08', '우이신설선', '711', '정릉', '1', '0', '1919', '412', '4813', '1579', '11155', '3029', '14877', '5240', '10234', '3651', '7362', '3465', '6530', '3723', '6598', '4169', '6090', '4245', '5386', '4782', '5253', '5861', '5434', '6980', '5784', '9038', '6161', '13715', '3349', '10596', '2235', '6049', '1734', '5136', '1178', '3639', '343', '1583', '0', '0', '0', '0', '0', '0', '0', '0']
    ['2021-08', '우이신설선', '712', '성신여대입구(돈암)', '2', '0', '640', '379', '995', '1112', '2958', '3301', '5002', '6749', '3491', '5699', '3655', '5175', '3930', '5172', '4402', '5650', '4377', '6212', '4467', '5788', '4789', '5650', '5491', '6284', '6402', '6854', '7771', '8525', '5058', '5239', '4298', '2612', '5127', '2045', '3637', '1614', '534', '690', '0', '2', '0', '0', '0', '0', '0', '0']
    ['2021-08', '우이신설선', '713', '보문', '0', '0', '395', '194', '701', '1082', '1650', '2253', '2864', '4097', '2526', '2654', '1985', '1868', '2042', '1759', '2100', '1744', '2069', '1984', '2242', '1917', '2440', '2079', '2612', '2137', '3123', '2391', '3670', '2956', '1875', '1893', '1267', '1435', '1074', '1240', '873', '978', '276', '402', '0', '9', '0', '0', '0', '0', '0', '0']
    ['2021-08', '우이신설선', '714', '신설동', '35', '1', '1038', '800', '1043', '1852', '1210', '3928', '1943', '10990', '1542', '6600', '1643', '3464', '2038', '2605', '2172', '2210', '2394', '2366', '2679', '2153', '3686', '1757', '4110', '1811', '5883', '1661', '8452', '1891', '3907', '1042', '2369', '766', '2211', '658', '1455', '580', '317', '450', '0', '100', '0', '0', '0', '0', '0', '0']



```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)

for row in data:
    row[4:] = map(int, row[4:])
    print(row)
```

    ['2021-08', '1호선', '1', '서울역', 483, 11, 7963, 5533, 10871, 31479, 31643, 73669, 49003, 149249, 36383, 94786, 35273, 50691, 41477, 42942, 48720, 46909, 50740, 45564, 45280, 41791, 56988, 44398, 63619, 45452, 100634, 54687, 152659, 61655, 72119, 38909, 47289, 25080, 51106, 21490, 27974, 13638, 7756, 4968, 21, 444, 1, 1, 0, 0, 0, 0]
    ['2021-08', '1호선', '10', '동묘앞', 84, 3, 2861, 918, 3286, 4614, 5128, 8004, 8066, 18779, 7541, 15213, 9130, 17602, 13369, 21823, 18112, 23065, 21526, 24178, 23292, 23028, 26282, 20769, 26379, 15856, 23275, 12159, 19551, 9210, 8704, 5827, 5031, 3835, 4235, 3839, 2678, 3706, 577, 1759, 4, 827, 0, 0, 0, 0, 0, 0]
    ['2021-08', '1호선', '2', '시청', 6, 0, 1597, 4399, 2727, 17957, 5971, 53669, 6884, 141150, 7541, 60972, 8328, 24743, 12240, 22388, 13561, 20191, 15934, 18708, 20552, 15439, 26382, 13396, 31233, 11545, 59551, 11039, 119064, 11317, 41635, 5636, 31787, 3793, 27796, 3501, 13739, 2205, 2462, 822, 3, 72, 0, 2, 0, 0, 0, 0]
    ['2021-08', '1호선', '3', '종각', 63, 0, 1995, 3773, 2818, 19672, 5069, 78825, 7714, 178759, 9593, 103040, 13541, 46680, 21172, 40741, 25849, 36122, 31651, 35718, 37840, 30122, 45887, 24143, 50443, 22553, 99804, 22931, 164560, 24229, 66132, 11811, 53338, 5331, 52175, 3551, 24776, 2276, 3340, 951, 11, 112, 0, 0, 0, 0, 0, 0]
    ['2021-08', '1호선', '4', '종로3가', 190, 22, 3058, 3544, 3061, 12338, 3988, 23040, 7050, 59866, 10981, 64722, 18020, 54340, 30224, 52616, 37148, 49851, 41607, 49204, 43964, 44340, 49172, 36973, 53316, 30066, 64274, 23793, 85046, 23400, 48731, 11226, 34790, 4850, 36333, 3834, 20598, 2789, 2893, 1345, 20, 316, 0, 0, 0, 0, 0, 0]
    ['2021-08', '1호선', '5', '종로5가', 28, 1, 1458, 3099, 2265, 13936, 4526, 34390, 6620, 85361, 11025, 53440, 18027, 43701, 26246, 42808, 31246, 40504, 34369, 36734, 39739, 35799, 44089, 30038, 48235, 24652, 63291, 20032, 82371, 15996, 38884, 9049, 23306, 4214, 19554, 3305, 9855, 2349, 1551, 1150, 4, 330, 0, 0, 0, 0, 0, 0]

...

    ['2021-08', '우이신설선', '708', '삼양사거리', 1, 1, 1715, 337, 2699, 1070, 5908, 2128, 7684, 4201, 5287, 3374, 4263, 2962, 3579, 3192, 4097, 3343, 3649, 3547, 3403, 3525, 3385, 4194, 3203, 4616, 3057, 4840, 3165, 7167, 2370, 5848, 1492, 3094, 1190, 2523, 744, 1548, 223, 947, 1, 1, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '709', '솔샘', 8, 1, 2215, 235, 7807, 1080, 22906, 2533, 23866, 3759, 12444, 2742, 8476, 3102, 6994, 3438, 7246, 4237, 6603, 4577, 5460, 4894, 5208, 6573, 5056, 8392, 4400, 10938, 3827, 20705, 2356, 18372, 1741, 9586, 1475, 8504, 1061, 6860, 270, 2408, 0, 0, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '710', '북한산보국문', 6, 3, 1826, 561, 5690, 2081, 16844, 3644, 20565, 6729, 12873, 5389, 9063, 4352, 8022, 4560, 8124, 5144, 7523, 5454, 6915, 5782, 7070, 7201, 7354, 8769, 7379, 11716, 7301, 18526, 4083, 15588, 2911, 9656, 2513, 8208, 1763, 6714, 682, 2631, 1, 3, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '711', '정릉', 1, 0, 1919, 412, 4813, 1579, 11155, 3029, 14877, 5240, 10234, 3651, 7362, 3465, 6530, 3723, 6598, 4169, 6090, 4245, 5386, 4782, 5253, 5861, 5434, 6980, 5784, 9038, 6161, 13715, 3349, 10596, 2235, 6049, 1734, 5136, 1178, 3639, 343, 1583, 0, 0, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '712', '성신여대입구(돈암)', 2, 0, 640, 379, 995, 1112, 2958, 3301, 5002, 6749, 3491, 5699, 3655, 5175, 3930, 5172, 4402, 5650, 4377, 6212, 4467, 5788, 4789, 5650, 5491, 6284, 6402, 6854, 7771, 8525, 5058, 5239, 4298, 2612, 5127, 2045, 3637, 1614, 534, 690, 0, 2, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '713', '보문', 0, 0, 395, 194, 701, 1082, 1650, 2253, 2864, 4097, 2526, 2654, 1985, 1868, 2042, 1759, 2100, 1744, 2069, 1984, 2242, 1917, 2440, 2079, 2612, 2137, 3123, 2391, 3670, 2956, 1875, 1893, 1267, 1435, 1074, 1240, 873, 978, 276, 402, 0, 9, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '714', '신설동', 35, 1, 1038, 800, 1043, 1852, 1210, 3928, 1943, 10990, 1542, 6600, 1643, 3464, 2038, 2605, 2172, 2210, 2394, 2366, 2679, 2153, 3686, 1757, 4110, 1811, 5883, 1661, 8452, 1891, 3907, 1042, 2369, 766, 2211, 658, 1455, 580, 317, 450, 0, 100, 0, 0, 0, 0, 0, 0]


* 아침 7시 승차 데이터 개수 및 인원수 출력하기


```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
result=[]
for row in data:
    row[4:] = map(int, row[4:])
    result.append(row[10])
print(len(result))
print(result)
```

    607
    [31643, 5128, 5971, 5069, 3988, 4526, 12037, 14821, 19090, 30365, 4041, 7248, 4366, 2861, 5419, 21813, 31494, 20872, 4088, 15349, 19300, 44926, 56806, 65321, 30628, 94913, 42624, 13282, 12936, 17142, 12613, 31783, 20056, 12412, 18619, 58906, 65157, 104693, 67841, 173383, 75798, 113543, 56280, 109140, 33903, 32538, 39038, 36746, 47758, 27931, 19762, 23022, 12752, 6282, 5269, 3015, 2723, 25756, 39788, 4312, 16708, 69553, 110377, 42217, 53794, 50534, 11867, 12714, 11374, 5266, 1405, 1598, 0, 4822, 21295, 21576, 18516, 12621, 8323, 9150, 20602, 6532, 22271, 28853, 12806, 7015, 18181, 2974, 21754, 17208, 28174, 15722, 18226, 20645, 93860, 40908, 78586, 65891, 38447, 25138, 15596, 4090, 5486, 7185, 3392, 3858, 9689, 13702, 5181, 8962, 10021, 3284, 38124, 54523, 1934, 46705, 73950, 45119, 77718, 103811, 7098, 9719, 16287, 13338, 23697, 32183, 8569, 19776, 30490, 12307, 39321, 32788, 26148, 66949, 21595, 69481, 15563, 25401, 52976, 31899, 58879, 34882, 11703, 41323, 8001, 9184, 18666, 2202, 10947, 10684, 6845, 21734, 4380, 1243, 10665, 7324, 20759, 8375, 10172, 74875, 43954, 101061, 89480, 88874, 69249, 24500, 45779, 52142, 33264, 34569, 4871, 22249, 28827, 32649, 20175, 5080, 19215, 36273, 14230, 6198, 2677, 3940, 29, 5586, 21339, 23968, 14879, 29917, 21035, 27212, 20810, 17956, 0, 26894, 16920, 19477, 23277, 47645, 40554, 21281, 15659, 26269, 10904, 15840, 18667, 7813, 4130, 4818, 3265, 46189, 14488, 14456, 60837, 26538, 47512, 25154, 17298, 17863, 5583, 15601, 26029, 15379, 15027, 1772, 1145, 17775, 16031, 61070, 44730, 68110, 3712, 16121, 7039, 2198, 6962, 8561, 19025, 0, 19182, 11358, 4183, 5522, 3793, 15170, 36953, 45533, 43389, 26996, 14548, 21033, 21156, 25379, 11047, 6348, 33851, 16259, 14685, 29091, 15846, 13771, 13973, 38727, 16040, 22806, 7085, 32823, 0, 63620, 37119, 46522, 5869, 18525, 14226, 7583, 23382, 47294, 47471, 19739, 18467, 25082, 4781, 47279, 41194, 1682, 21420, 10790, 1261, 1438, 5382, 285, 1751, 1617, 814, 4868, 643, 2990, 347, 1732, 4327, 4450, 2223, 6125, 1840, 609, 3909, 2719, 15069, 3404, 2965, 14741, 31444, 12895, 1248, 28525, 19858, 37872, 30114, 21439, 24675, 14782, 16567, 1967, 2172, 13776, 0, 2400, 3499, 1034, 7587, 0, 0, 4493, 14998, 11164, 16736, 14129, 4346, 24834, 6876, 12699, 878, 3348, 587, 2378, 138, 63, 381, 343, 3147, 1120, 10190, 6491, 1088, 717, 16492, 128, 8346, 12591, 11862, 5823, 1152, 11808, 12530, 7831, 18842, 10823, 2815, 1904, 3624, 3522, 9079, 29886, 10775, 5636, 4643, 6262, 4003, 694, 4238, 23476, 18542, 4503, 17837, 19877, 22221, 44820, 95552, 104308, 54404, 47288, 38042, 18944, 5956, 17045, 10985, 8407, 3918, 20060, 16906, 13926, 5590, 13931, 7276, 2507, 964, 1096, 5804, 16916, 25716, 5084, 13352, 47171, 44722, 28666, 36755, 32193, 23015, 46223, 18708, 29866, 29533, 25279, 72699, 20623, 9870, 15883, 7368, 20430, 29194, 26626, 10290, 53733, 8985, 15840, 14821, 60163, 13881, 8799, 11104, 0, 24568, 45470, 32982, 35073, 7283, 32220, 22018, 10939, 6928, 14848, 12357, 16682, 13263, 6497, 3906, 7527, 2616, 3646, 4422, 5951, 5343, 7268, 11448, 16399, 6852, 16930, 31969, 20486, 30155, 40397, 15867, 50788, 40543, 0, 12680, 44124, 45503, 53121, 32109, 51678, 56457, 30750, 18349, 30840, 32659, 44555, 49753, 46826, 20068, 26512, 29369, 15476, 10443, 17845, 8329, 5738, 7132, 7840, 5514, 8830, 14445, 21824, 31079, 30567, 27182, 23323, 43876, 18748, 35482, 13367, 26811, 18887, 65773, 70101, 41204, 41530, 27911, 14314, 20786, 37229, 36847, 33143, 21723, 30892, 30562, 65888, 34381, 25928, 9445, 7722, 13042, 19256, 9316, 18860, 38105, 26993, 19717, 43098, 31340, 11079, 13534, 7371, 11837, 6823, 7747, 23054, 23613, 24710, 59257, 17088, 34297, 60940, 14211, 16402, 40761, 3129, 7233, 4029, 52005, 13159, 13524, 4550, 2990, 4450, 13060, 7606, 25972, 8289, 4407, 7337, 14864, 9646, 6146, 43266, 28423, 25630, 17525, 1563, 3553, 2148, 9921, 5689, 7303, 4122, 7232, 7182, 16394, 13124, 18643, 9731, 5905, 12617, 3137, 31693, 7498, 8381, 7422, 14051, 10173, 5630, 5908, 22906, 16844, 11155, 2958, 1650, 1210]


* 시각화하기


```python
import matplotlib.pyplot as plt
plt.bar(range(len(result)), result)
plt.show()
```


    
![png](/assets/img/practice/대중교통 데이터 시각화/output_21_0.png)
    



```python
# 오름차순으로 정렬
import matplotlib.pyplot as plt
result.sort()
plt.bar(range(len(result)), result)
plt.show()
```


    
![png](/assets/img/practice/대중교통 데이터 시각화/output_22_0.png)
    



```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
result=[]

for row in data:
    row[4:] = map(int, row[4:])
    result.append(sum(row[10:15:2]))
print(len(result))

result.sort()
plt.bar(range(len(result)), result)
plt.show()
```

    607



    
![png](/assets/img/practice/대중교통 데이터 시각화/output_23_1.png)
    



```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
mx = 0
mx_station = ''

for row in data:
    row[4:] = map(int, row[4:])
    if sum(row[10:15:2])>mx:
        mx = sum(row[10:15:2])
        mx_station = row[3]+'('+row[1]+')'
print(mx_station, mx)
```

    신림(2호선) 598564


* 하차가 많은 역 구하기


```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
mx = 0
mx_station = ''

for row in data:
    row[4:] = map(int, row[4:])
    if sum(row[11:16:2])>mx:
        mx = sum(row[11:16:2])
        mx_station = row[3]+'('+row[1]+')'
print(mx_station, mx)
```

    강남(2호선) 673827


* 밤 11시에 가장 많이 타는 역 구하기


```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
mx = 0
mx_station = ''
t = int(input('몇시의 승차 인원이 가장 많은 역이 궁금한가요? : '))

for row in data:
    row[4:] = map(int, row[4:])
    a = row[4+(t-4)*2]
    if a > mx:
        mx = a
        mx_station = row[3]+'('+row[1]+')'
print(mx_station, mx)
```

    몇시의 승차 인원이 가장 많은 역이 궁금한가요? : 23
    강남(2호선) 12509


* 시간대별 최대 승차 역 이름 및 승차인원 출력(04시~03시)


```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
mx = [0]*24
mx_station = ['']*24

for row in data:
    row[4:] = map(int, row[4:])
    for j in range(24):
        a = row[j*2+4]
        if a>mx[j]:
            mx[j]=a
            mx_station[j]=row[3]

print(mx_station)
print(mx)
    
```

    ['구로', '신림', '신림', '신림', '신림', '신림', '신림', '신림', '강남', '강남', '강남', '강남', '강남', '강남', '강남', '강남', '강남', '강남', '강남', '강남', '의정부', '동대문', '역삼', '마석']
    [10689, 37299, 68898, 173383, 267128, 158053, 84264, 70112, 75942, 88926, 97964, 120268, 135621, 214990, 302398, 178242, 138452, 157847, 105997, 12509, 207, 2, 1, 1]



```python
plt.rc('font', family='AppleGothic')
plt.bar(range(24), mx)
plt.xticks(range(24), mx_station, rotation=90)
plt.show()
```


    
![png](/assets/img/practice/대중교통 데이터 시각화/output_31_0.png)
    


* 시간대별 승하차 인원(모든 역)


```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)
s_in = [0]*24
s_out = [0]*24

for row in data:
    row[4:] = map(int, row[4:])
    for i in range(24):
        s_in[i]+=row[4+i*2]
        s_out[i]+=row[5+i*2]


plt.rc('font', family='AppleGothic')
plt.plot(s_in)
plt.plot(s_out)
plt.show()
```


    
![png](/assets/img/practice/대중교통 데이터 시각화/output_33_0.png)
    



```python
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)

for row in data:
    row[4:] = map(int, row[4:])
    print(row)
```

    ['2021-08', '1호선', '1', '서울역', 483, 11, 7963, 5533, 10871, 31479, 31643, 73669, 49003, 149249, 36383, 94786, 35273, 50691, 41477, 42942, 48720, 46909, 50740, 45564, 45280, 41791, 56988, 44398, 63619, 45452, 100634, 54687, 152659, 61655, 72119, 38909, 47289, 25080, 51106, 21490, 27974, 13638, 7756, 4968, 21, 444, 1, 1, 0, 0, 0, 0]
    ['2021-08', '1호선', '10', '동묘앞', 84, 3, 2861, 918, 3286, 4614, 5128, 8004, 8066, 18779, 7541, 15213, 9130, 17602, 13369, 21823, 18112, 23065, 21526, 24178, 23292, 23028, 26282, 20769, 26379, 15856, 23275, 12159, 19551, 9210, 8704, 5827, 5031, 3835, 4235, 3839, 2678, 3706, 577, 1759, 4, 827, 0, 0, 0, 0, 0, 0]
    ['2021-08', '1호선', '2', '시청', 6, 0, 1597, 4399, 2727, 17957, 5971, 53669, 6884, 141150, 7541, 60972, 8328, 24743, 12240, 22388, 13561, 20191, 15934, 18708, 20552, 15439, 26382, 13396, 31233, 11545, 59551, 11039, 119064, 11317, 41635, 5636, 31787, 3793, 27796, 3501, 13739, 2205, 2462, 822, 3, 72, 0, 2, 0, 0, 0, 0]
    ['2021-08', '1호선', '3', '종각', 63, 0, 1995, 3773, 2818, 19672, 5069, 78825, 7714, 178759, 9593, 103040, 13541, 46680, 21172, 40741, 25849, 36122, 31651, 35718, 37840, 30122, 45887, 24143, 50443, 22553, 99804, 22931, 164560, 24229, 66132, 11811, 53338, 5331, 52175, 3551, 24776, 2276, 3340, 951, 11, 112, 0, 0, 0, 0, 0, 0]
    ['2021-08', '1호선', '4', '종로3가', 190, 22, 3058, 3544, 3061, 12338, 3988, 23040, 7050, 59866, 10981, 64722, 18020, 54340, 30224, 52616, 37148, 49851, 41607, 49204, 43964, 44340, 49172, 36973, 53316, 30066, 64274, 23793, 85046, 23400, 48731, 11226, 34790, 4850, 36333, 3834, 20598, 2789, 2893, 1345, 20, 316, 0, 0, 0, 0, 0, 0]
    
    ...
    
    ['2021-08', '우이신설선', '709', '솔샘', 8, 1, 2215, 235, 7807, 1080, 22906, 2533, 23866, 3759, 12444, 2742, 8476, 3102, 6994, 3438, 7246, 4237, 6603, 4577, 5460, 4894, 5208, 6573, 5056, 8392, 4400, 10938, 3827, 20705, 2356, 18372, 1741, 9586, 1475, 8504, 1061, 6860, 270, 2408, 0, 0, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '710', '북한산보국문', 6, 3, 1826, 561, 5690, 2081, 16844, 3644, 20565, 6729, 12873, 5389, 9063, 4352, 8022, 4560, 8124, 5144, 7523, 5454, 6915, 5782, 7070, 7201, 7354, 8769, 7379, 11716, 7301, 18526, 4083, 15588, 2911, 9656, 2513, 8208, 1763, 6714, 682, 2631, 1, 3, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '711', '정릉', 1, 0, 1919, 412, 4813, 1579, 11155, 3029, 14877, 5240, 10234, 3651, 7362, 3465, 6530, 3723, 6598, 4169, 6090, 4245, 5386, 4782, 5253, 5861, 5434, 6980, 5784, 9038, 6161, 13715, 3349, 10596, 2235, 6049, 1734, 5136, 1178, 3639, 343, 1583, 0, 0, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '712', '성신여대입구(돈암)', 2, 0, 640, 379, 995, 1112, 2958, 3301, 5002, 6749, 3491, 5699, 3655, 5175, 3930, 5172, 4402, 5650, 4377, 6212, 4467, 5788, 4789, 5650, 5491, 6284, 6402, 6854, 7771, 8525, 5058, 5239, 4298, 2612, 5127, 2045, 3637, 1614, 534, 690, 0, 2, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '713', '보문', 0, 0, 395, 194, 701, 1082, 1650, 2253, 2864, 4097, 2526, 2654, 1985, 1868, 2042, 1759, 2100, 1744, 2069, 1984, 2242, 1917, 2440, 2079, 2612, 2137, 3123, 2391, 3670, 2956, 1875, 1893, 1267, 1435, 1074, 1240, 873, 978, 276, 402, 0, 9, 0, 0, 0, 0, 0, 0]
    ['2021-08', '우이신설선', '714', '신설동', 35, 1, 1038, 800, 1043, 1852, 1210, 3928, 1943, 10990, 1542, 6600, 1643, 3464, 2038, 2605, 2172, 2210, 2394, 2366, 2679, 2153, 3686, 1757, 4110, 1811, 5883, 1661, 8452, 1891, 3907, 1042, 2369, 766, 2211, 658, 1455, 580, 317, 450, 0, 100, 0, 0, 0, 0, 0, 0]



```python
# 승차만 기준
import csv
f = open('subwaytime.csv')
data = csv.reader(f)
next(data)
next(data)

sdstation = input('기준역을 입력하시오 : ')
sd_in = []
for row in data:
    for i in row[4:52]:
        if sdstation in row[3]:
            sd_in.append(int(i))
print(sd_in)
    
```

    기준역을 입력하시오 : 서울역
    [483, 11, 7963, 5533, 10871, 31479, 31643, 73669, 49003, 149249, 36383, 94786, 35273, 50691, 41477, 42942, 48720, 46909, 50740, 45564, 45280, 41791, 56988, 44398, 63619, 45452, 100634, 54687, 152659, 61655, 72119, 38909, 47289, 25080, 51106, 21490, 27974, 13638, 7756, 4968, 21, 444, 1, 1, 0, 0, 0, 0, 145, 1, 3316, 554, 4817, 8621, 9689, 24739, 11882, 60097, 8958, 30819, 7388, 16153, 8972, 14992, 10049, 17138, 9405, 15790, 10011, 15346, 10753, 16565, 12310, 17395, 29625, 20438, 46197, 23193, 16116, 15881, 9830, 10605, 8605, 9653, 5017, 7906, 1311, 3029, 0, 600, 0, 0, 0, 0, 0, 0, 1, 0, 23, 269, 39, 1935, 7098, 3355, 12468, 3652, 7337, 2870, 6734, 2164, 7638, 1228, 8112, 2175, 8435, 1806, 5662, 1721, 9168, 2065, 10305, 2420, 9439, 4104, 12310, 6276, 10438, 2955, 6530, 1665, 9788, 1386, 5749, 1184, 2223, 140, 6, 6, 0, 0, 0, 0, 0, 0, 3, 0, 862, 5, 1159, 5823, 2400, 18627, 2007, 27463, 1784, 12900, 1251, 5189, 1606, 3998, 2290, 3100, 2643, 5193, 2866, 2403, 4126, 2486, 6001, 2206, 12865, 3694, 25477, 3752, 8736, 2672, 4345, 2531, 4855, 845, 780, 103, 694, 811, 0, 50, 0, 0, 0, 0, 0, 0, 84, 0, 1964, 499, 1868, 6927, 8289, 11914, 9343, 17668, 6594, 13120, 6811, 10930, 7681, 10243, 10040, 10742, 10850, 9184, 8723, 8232, 12277, 9389, 13586, 9539, 17030, 10739, 22047, 13555, 14717, 10486, 9914, 6222, 12009, 5798, 7492, 3943, 2759, 1433, 1, 731, 0, 0, 0, 0, 0, 0]


