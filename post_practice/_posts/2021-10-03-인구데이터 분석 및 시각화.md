# 인구 데이터 분석 및 시각화


```python
from matplotlib import font_manager, rc
# 시각화 사용시 한글폰트 깨짐 해결을 위한 코드
import platform 

if platform.system() == 'Windows': 
    path = 'c:/Windows/Fonts/malgun.ttf'
    font_name = font_manager.FontProperties(fname=path).get_name()
    rc('font', family=font_name)
elif platform.system() == 'Darwin':
    rc('font', family='AppleGothic')
else: 
    print('Check your OS system')
```

* 데이터 불러오기


```python
import csv
f = open('age.csv')
data = csv.reader(f)

for row in data:
    print(row)
```

### 동네 인구별 데이터 불러오기


```python
import csv
f = open('age.csv')
data = csv.reader(f)
result = []

for row in data:
    if '광교1동' in row[0]:    # 광교1동이 포함된 행정구역 찾기
        for i in row[3:]:    # 0세부터 100세이상까지
            result.append(str(i))

print(result)
```

    ['323', '321', '406', '449', '476', '585', '695', '660', '680', '738', '797', '702', '724', '745', '699', '672', '612', '625', '609', '586', '751', '721', '698', '718', '755', '851', '926', '933', '1084', '1075', '1012', '998', '961', '875', '855', '907', '850', '932', '974', '1113', '1071', '1157', '1091', '1058', '1099', '1009', '1009', '1085', '990', '936', '1044', '944', '938', '764', '685', '655', '623', '592', '630', '566', '560', '461', '406', '383', '339', '271', '234', '186', '214', '195', '138', '150', '158', '141', '118', '91', '95', '86', '93', '116', '62', '56', '69', '76', '54', '35', '41', '29', '29', '18', '18', '13', '13', '9', '9', '3', '11', '2', '5', '3', '2']



```python
# 문자열에서 ','제거후 정수로 변환 / 이번 데이터에서는 csv파일에서 , 를 제거한 상태
result1 = []
for i in result:
    j = i.replace(",","")
    k = int(j)
    result1.append(k)
print(result1)
```

    [323, 321, 406, 449, 476, 585, 695, 660, 680, 738, 797, 702, 724, 745, 699, 672, 612, 625, 609, 586, 751, 721, 698, 718, 755, 851, 926, 933, 1084, 1075, 1012, 998, 961, 875, 855, 907, 850, 932, 974, 1113, 1071, 1157, 1091, 1058, 1099, 1009, 1009, 1085, 990, 936, 1044, 944, 938, 764, 685, 655, 623, 592, 630, 566, 560, 461, 406, 383, 339, 271, 234, 186, 214, 195, 138, 150, 158, 141, 118, 91, 95, 86, 93, 116, 62, 56, 69, 76, 54, 35, 41, 29, 29, 18, 18, 13, 13, 9, 9, 3, 11, 2, 5, 3, 2]



```python
import matplotlib.pyplot as plt
plt.style.use('ggplot')
plt.plot(result1)
plt.show()
```


    
![png](output_7_0.png)
    


* 지역명을 입력받아서 데이터 시각화하기


```python
import csv
f = open('age.csv')
data = csv.reader(f)
result = []

dong = str(input('동을 입력하시오 : '))

for row in data:
    if dong in row[0]:  
        for i in row[3:]:
            result.append(str(i))

result1 = []
for i in result:
    j = i.replace(",","")
    k = int(j)
    result1.append(k)

print(dong,'의 연령별 인구')
import matplotlib.pyplot as plt
plt.style.use('ggplot')
plt.plot(result1)
plt.show()

```

    동을 입력하시오 : 영통1동
    영통1동 의 연령별 인구



    
![png](output_9_1.png)
    


* 다양한 형태로 시각화하기


```python
import csv
f = open('age.csv')
data = csv.reader(f)
result = []

for row in data:
    if '광교1동' in row[0]:   
        for i in row[3:]:   
            result.append(i)
result1 = []
for i in result:
    j = i.replace(",","")
    k = int(j)
    result1.append(k)

plt.barh(range(101), result1)
plt.show()

```


    
![png](output_11_0.png)
    


## 항아리 모양 그래프 그리기

### 성별 데이터 이용

* 남성 데이터 : 3~103번 인덱스 데이터
* 여성 데이터 : -1~-101번 인덱스 데이터


```python
f = open('gender.csv')
data = csv.reader(f)

m=[]
f=[]

for row in data:
    if '광교1동' in row[0]:
        for i in range(0,101):
            m.append(int(row[i+3]))
            f.append(int(row[-(i+1)]))
f.reverse()   # 거꾸로 저장된 여성 데이터 순서 뒤집기
print(m)
print(f)
```

    [167, 163, 214, 227, 256, 312, 358, 341, 372, 388, 419, 356, 378, 351, 366, 353, 318, 308, 298, 259, 362, 341, 319, 327, 331, 368, 384, 422, 481, 521, 450, 498, 476, 459, 391, 426, 416, 430, 453, 491, 502, 571, 496, 511, 526, 486, 500, 518, 486, 460, 523, 503, 472, 385, 359, 334, 344, 322, 326, 302, 309, 245, 241, 202, 179, 151, 96, 100, 108, 94, 63, 80, 80, 68, 54, 47, 44, 29, 43, 47, 31, 19, 22, 32, 23, 13, 8, 10, 5, 4, 5, 4, 3, 2, 1, 0, 2, 1, 2, 1, 0]
    [156, 158, 192, 222, 220, 273, 337, 319, 308, 350, 378, 346, 346, 394, 333, 319, 294, 317, 311, 327, 389, 380, 379, 391, 424, 483, 542, 511, 603, 554, 562, 500, 485, 416, 464, 481, 434, 502, 521, 622, 569, 586, 595, 547, 573, 523, 509, 567, 504, 476, 521, 441, 466, 379, 326, 321, 279, 270, 304, 264, 251, 216, 165, 181, 160, 120, 138, 86, 106, 101, 75, 70, 78, 73, 64, 44, 51, 57, 50, 69, 31, 37, 47, 44, 31, 22, 33, 19, 24, 14, 13, 9, 10, 7, 8, 3, 9, 1, 3, 2, 2]


* 수평그래프 그리기


```python
plt.barh(range(101),m)
plt.barh(range(101),f)
plt.show()
```


    
![png](output_15_0.png)
    


### 항아리 모양 그래프로 시각화하기

* 남성 데이터 음수로 바꾸어 진행


```python
f = open('gender.csv')
data = csv.reader(f)

m=[]
f=[]

for row in data:
    if '광교1동' in row[0]:
        for i in range(0,101):
            m.append(-int(row[i+3]))
            f.append(int(row[-(i+1)]))
f.reverse()   # 거꾸로 저장된 여성 데이터 순서 뒤집기
print(m)
print(f)
```

    [-167, -163, -214, -227, -256, -312, -358, -341, -372, -388, -419, -356, -378, -351, -366, -353, -318, -308, -298, -259, -362, -341, -319, -327, -331, -368, -384, -422, -481, -521, -450, -498, -476, -459, -391, -426, -416, -430, -453, -491, -502, -571, -496, -511, -526, -486, -500, -518, -486, -460, -523, -503, -472, -385, -359, -334, -344, -322, -326, -302, -309, -245, -241, -202, -179, -151, -96, -100, -108, -94, -63, -80, -80, -68, -54, -47, -44, -29, -43, -47, -31, -19, -22, -32, -23, -13, -8, -10, -5, -4, -5, -4, -3, -2, -1, 0, -2, -1, -2, -1, 0]
    [156, 158, 192, 222, 220, 273, 337, 319, 308, 350, 378, 346, 346, 394, 333, 319, 294, 317, 311, 327, 389, 380, 379, 391, 424, 483, 542, 511, 603, 554, 562, 500, 485, 416, 464, 481, 434, 502, 521, 622, 569, 586, 595, 547, 573, 523, 509, 567, 504, 476, 521, 441, 466, 379, 326, 321, 279, 270, 304, 264, 251, 216, 165, 181, 160, 120, 138, 86, 106, 101, 75, 70, 78, 73, 64, 44, 51, 57, 50, 69, 31, 37, 47, 44, 31, 22, 33, 19, 24, 14, 13, 9, 10, 7, 8, 3, 9, 1, 3, 2, 2]



```python
plt.rc('font', family='AppleGothic')
plt.rcParams['axes.unicode_minus'] = False
plt.title('광교1동 지역의 남녀 성별 인구 분포')
plt.barh(range(101), m, label='남성')
plt.barh(range(101), f, label='여성')
plt.legend()
plt.show()
```


    
![png](output_18_0.png)
    


### 지역이름을 입력받아 항아리 모양 그래프 그리기


```python
f = open('gender.csv')
data = csv.reader(f)

m=[]
f=[]

dong = input('지역이름을 알려주세요 : ')
for row in data:
    if dong in row[0]:
        for i in range(0,101):
            m.append(-int(row[i+3]))
            f.append(int(row[-(i+1)]))
f.reverse()

plt.rc('font', family='AppleGothic')
plt.rcParams['axes.unicode_minus'] = False
plt.title(dong+' 지역의 남녀 성별 인구 분포')
plt.barh(range(101), m, label='남성')
plt.barh(range(101), f, label='여성')
plt.legend()
plt.show()
```

    지역이름을 알려주세요 : 영통1동



    
![png](output_20_1.png)
    

